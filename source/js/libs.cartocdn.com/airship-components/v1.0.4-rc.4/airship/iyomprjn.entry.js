const t=window.airship.h;import{a as e}from"./chunk-6e6f6eb8.js";import{a as s}from"./chunk-b62f03fa.js";import{a as i}from"./chunk-d27dd9c0.js";import{m as a,n as r,o as n,p as o,q as l,r as h,s as c,t as d,u,v as p,w as m,x as g}from"./chunk-ba7abf4c.js";import{a as C,b as y}from"./chunk-5f469fc9.js";const L="#1785FB",b="#1785FB",f=`var(--as--color--primary, ${L})`,_=`var(--as--color--complementary, ${b})`;function v(){a.preventDefault(),a.stopImmediatePropagation()}function w(t){return function(){return t}}function M(t,e,s){this.target=t,this.type=e,this.selection=s}function x(){a.stopImmediatePropagation()}function S(){a.preventDefault(),a.stopImmediatePropagation()}var A={name:"drag"},Z={name:"space"},k={name:"handle"},T={name:"center"},B={name:"x",handles:["e","w"].map(P),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},E={name:"y",handles:["n","s"].map(P),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},D={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},H={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},R={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},F={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},I={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function P(t){return{type:t}}function O(){return!a.button}function z(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function U(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function N(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}var V={addBrush:function(t,e,s,i,h,c,d,u){return function(t){var e,s=z,i=O,h=C(d,"start","brush","end"),c=6;function d(e){var s=e.property("__brush",L).selectAll(".overlay").data([P("overlay")]);s.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",D.overlay).merge(s).each(function(){var t=U(this).extent;r(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),e.selectAll(".selection").data([P("selection")]).enter().append("rect").attr("class","selection").attr("cursor",D.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=e.selectAll(".handle").data(t.handles,function(t){return t.type});i.exit().remove(),i.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return D[t.type]}),e.each(u).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",g)}function u(){var t=r(this),e=U(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-c/2:e[0][0]-c/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-c/2:e[0][1]-c/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+c:c}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+c:c})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function p(t,e){return t.__brush.emitter||new m(t,e)}function m(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function g(){if(a.touches){if(a.changedTouches.length<a.touches.length)return S()}else if(e)return;if(i.apply(this,arguments)){var s,n,l,h,c,d,m,g,C,L,b,f,_,w=this,M=a.target.__data__.type,P="selection"===(a.metaKey?M="overlay":M)?A:a.altKey?T:k,O=t===E?null:F[M],z=t===B?null:I[M],V=U(w),W=V.extent,j=V.selection,X=W[0][0],Y=W[0][1],$=W[1][0],G=W[1][1],K=O&&z&&a.shiftKey,J=o(w),q=J,Q=p(w,arguments).beforestart();"overlay"===M?V.selection=j=[[s=t===E?X:J[0],l=t===B?Y:J[1]],[c=t===E?$:s,m=t===B?G:l]]:(s=j[0][0],l=j[0][1],c=j[1][0],m=j[1][1]),n=s,h=l,d=c,g=m;var tt=r(w).attr("pointer-events","none"),et=tt.selectAll(".overlay").attr("cursor",D[M]);if(a.touches)tt.on("touchmove.brush",it,!0).on("touchend.brush touchcancel.brush",rt,!0);else{var st=r(a.view).on("keydown.brush",function(){switch(a.keyCode){case 16:K=O&&z;break;case 18:P===k&&(O&&(c=d-C*O,s=n+C*O),z&&(m=g-L*z,l=h+L*z),P=T,at());break;case 32:P!==k&&P!==T||(O<0?c=d-C:O>0&&(s=n-C),z<0?m=g-L:z>0&&(l=h-L),P=Z,et.attr("cursor",D.selection),at());break;default:return}S()},!0).on("keyup.brush",function(){switch(a.keyCode){case 16:K&&(f=_=K=!1,at());break;case 18:P===T&&(O<0?c=d:O>0&&(s=n),z<0?m=g:z>0&&(l=h),P=k,at());break;case 32:P===Z&&(a.altKey?(O&&(c=d-C*O,s=n+C*O),z&&(m=g-L*z,l=h+L*z),P=T):(O<0?c=d:O>0&&(s=n),z<0?m=g:z>0&&(l=h),P=k),et.attr("cursor",D[M]),at());break;default:return}S()},!0).on("mousemove.brush",it,!0).on("mouseup.brush",rt,!0);!function(t){var e=t.document.documentElement,s=r(t).on("dragstart.drag",v,!0);"onselectstart"in e?s.on("selectstart.drag",v,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}(a.view)}x(),y(w),u.call(w),Q.start()}function it(){var t=o(w);!K||f||_||(Math.abs(t[0]-q[0])>Math.abs(t[1]-q[1])?_=!0:f=!0),q=t,b=!0,S(),at()}function at(){var t;switch(C=q[0]-J[0],L=q[1]-J[1],P){case Z:case A:O&&(C=Math.max(X-s,Math.min($-c,C)),n=s+C,d=c+C),z&&(L=Math.max(Y-l,Math.min(G-m,L)),h=l+L,g=m+L);break;case k:O<0?(C=Math.max(X-s,Math.min($-s,C)),n=s+C,d=c):O>0&&(C=Math.max(X-c,Math.min($-c,C)),n=s,d=c+C),z<0?(L=Math.max(Y-l,Math.min(G-l,L)),h=l+L,g=m):z>0&&(L=Math.max(Y-m,Math.min(G-m,L)),h=l,g=m+L);break;case T:O&&(n=Math.max(X,Math.min($,s-C*O)),d=Math.max(X,Math.min($,c+C*O))),z&&(h=Math.max(Y,Math.min(G,l-L*z)),g=Math.max(Y,Math.min(G,m+L*z)))}d<n&&(O*=-1,t=s,s=c,c=t,t=n,n=d,d=t,M in H&&et.attr("cursor",D[M=H[M]])),g<h&&(z*=-1,t=l,l=m,m=t,t=h,h=g,g=t,M in R&&et.attr("cursor",D[M=R[M]])),V.selection&&(j=V.selection),f&&(n=j[0][0],d=j[1][0]),_&&(h=j[0][1],g=j[1][1]),j[0][0]===n&&j[0][1]===h&&j[1][0]===d&&j[1][1]===g||(V.selection=[[n,h],[d,g]],u.call(w),Q.brush())}function rt(){if(x(),a.touches){if(a.touches.length)return;e&&clearTimeout(e),e=setTimeout(function(){e=null},500),tt.on("touchmove.brush touchend.brush touchcancel.brush",null)}else!function(t,e){var s=t.document.documentElement,i=r(t).on("dragstart.drag",null);e&&(i.on("click.drag",v,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in s?i.on("selectstart.drag",null):(s.style.MozUserSelect=s.__noselect,delete s.__noselect)}(a.view,b),st.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);tt.attr("pointer-events","all"),et.attr("cursor",D.overlay),V.selection&&(j=V.selection),N(j)&&(V.selection=null,u.call(w)),Q.end()}}function L(){var e=this.__brush||{selection:null};return e.extent=s.apply(this,arguments),e.dim=t,e}return d.move=function(e,s){e.selection?e.on("start.brush",function(){p(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){p(this,arguments).end()}).tween("brush",function(){var e=this,i=e.__brush,a=p(e,arguments),r=i.selection,n=t.input("function"==typeof s?s.apply(this,arguments):s,i.extent),o=l(r,n);function h(t){i.selection=1===t&&N(n)?null:o(t),u.call(e),a.brush()}return r&&n?h:h(1)}):e.each(function(){var e=arguments,i=this.__brush,a=t.input("function"==typeof s?s.apply(this,e):s,i.extent),r=p(this,e).beforestart();y(this),i.selection=null==a||N(a)?null:a,u.call(this),r.start().brush().end()})},m.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){n(new M(d,e,t.output(this.state.selection)),h.apply,h,[e,this.that,this.args])}},d.extent=function(t){return arguments.length?(s="function"==typeof t?t:w([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),d):s},d.filter=function(t){return arguments.length?(i="function"==typeof t?t:w(!!t),d):i},d.handleSize=function(t){return arguments.length?(c=+t,d):c},d.on=function(){var t=h.on.apply(h,arguments);return t===h?d:t},d}(B).handleSize(h).extent([[0,0],[t-d,e-u+c/2]]).on("brush",s).on("end",i)},addBrushArea:function(t,e){let s=e.select("g.brush");return s.empty()&&(s=e.append("g")).attr("class","brush"),s.call(t),s},addCustomHandles:function(t,e,s,i,a){let r=t.select("line.bottomline");r.empty()&&(r=t.append("line").attr("class","bottomline").attr("stroke-width",4).style("opacity",0).attr("pointer-events","none")),r.attr("y1",e-a).attr("y2",e-a);let n=t.selectAll(".handle--wrapper");if(n.empty()){(n=n.data([{type:"w"},{type:"e"}]).enter().append("g").attr("class","handle--wrapper")).append("rect").attr("class","handle--custom").attr("width",s).attr("height",i).attr("rx",2).attr("ry",2);const t=n.append("g").attr("class","handle--grab");for(let e=0;e<3;e++)t.append("line").attr("x1",2).attr("y1",2*e).attr("x2",4).attr("y2",2*e).attr("class","grab-line")}return n}};function W(t){return c().domain(j(t)).range([0,t.length])}function j(t){const{start:e}=t.length>0?t[0]:{start:0},{end:s}=t.length>0?t[t.length-1]:{end:0};return[e,s]}var X={getXDomain:j,getXScale:function(t,e){return c().domain(t).range([0,e])},getYDomain:function(t){return[0,h(t,t=>t.value)]}};const Y=p(".2~s"),$=p(".2");function G(t,e){return e}function K(t){return t>0&&t<1?$(t):Y(t)}var J={cleanAxes:function(t){t.select(".domain").remove()},updateAxes:function(t,e,s,i,a,r,n){const o=t.select(".xAxis"),l=t.select(".yAxis");s.domain(n).nice(),e.domain(r),o.call(i),l.call(a)},renderBars:function(t,e,s,i,a,r,n,o=!1){if(!s||!s.node())return;let l=1;const h=s.node().getBoundingClientRect().height-n,c=s.node().getBoundingClientRect().width-r,d=0===t.length?c:c/t.length;d-l<3&&(l=0),this.bars=i.selectAll("rect").data(t),this.bars.exit().remove().transition().duration(200);const u=this.bars.enter().append("rect").attr("y",h).attr("height",0).merge(this.bars).attr("class","bar").attr("x",(t,e)=>e*d).attr("width",()=>Math.max(0,d-l)).style("fill",t=>t.color||a);(o?u:u.transition().delay(G)).attr("height",t=>h-e(t.value)).attr("y",t=>e(t.value)),(o?this.bars:this.bars.transition().delay(G)).attr("height",t=>h-e(t.value)).attr("y",t=>e(t.value))},renderXAxis:function(t,e,s,i,a,r=K){if(!t||!t.node())return;const n=t.node().getBoundingClientRect().height-a,o=t.node().getBoundingClientRect().width-i,l=[0,s/2,s],h=c().domain([0,s]).range([0,o]),u=c().domain(e).range([0,s]),p=d(h).tickSize(-n).tickValues(l).tickPadding(10).tickFormat(t=>{const e=u.invert(t);return r(e)});return t.select(".x-axis").empty()?t.append("g").attr("class","x-axis").attr("transform",`translate(0, ${n})`).call(p):t.select(".x-axis").attr("transform",`translate(0, ${n})`).call(p),t.selectAll(".x-axis text").attr("transform",(t,e,s)=>{const i=s[e],{width:a}=i.getBoundingClientRect();let r=0;return 0===e?r=a/2:e===s.length-1&&(r=-a/2),`translate(${r})`}).attr("opacity",(t,e,s)=>{if(0===e||e===s.length-1)return 1;let i=0;const a=s;for(const t of a)i+=t.getBoundingClientRect().width;return o-i<0?0:1}),p},renderYAxis:function(t,e,s,i){if(!t||!t.node())return;const a=t.node().getBoundingClientRect().height-i,r=t.node().getBoundingClientRect().width-s,n=c().domain(e).range([a,0]).nice(),o=u(n).tickSize(-r).ticks(5).tickPadding(10).tickFormat(K);return t.select(".y-axis").empty()?t.append("g").attr("class","y-axis").call(o):t.select(".y-axis").call(o),o},renderPlot:function(t){if(t.select(".plot").empty()){const e=t.append("g");return e.attr("class","plot"),e}return t.select(".plot")}};function q(t,e){return null!==e&&t.start>=e[0]&&t.end<=e[1]}var Q={addTooltip:function(t,e,i,n,o,l,h){t.on("mousemove",()=>{const t=a,{clientX:c,clientY:d}=t;let u=!1;e.selectAll("rect").each((e,a,p)=>{const m=q(e,i.selection),g=r(p[a]),C=p[a].getBoundingClientRect();if(C.left<=c&&c<=C.right&&C.top<=d&&d<=C.bottom){let i=m?o:e.color||n;i=s(-.16,i),g.style("fill",i),h(l(e),t),u=!0}else g.style("fill",m?o:e.color||n)}),u||h(null)}).on("mouseleave",()=>{h(null),e.selectAll("rect").style("fill",t=>q(t,i.selection)?o:t.color||n)})}};const tt=6,et=14,st=38,it=36,at=25;class rt{constructor(){this.showHeader=!0,this.disableInteractivity=!1,this.data=[],this.color=f,this.selectedColor=_,this.tooltipFormatter=this.defaultFormatter,this.isLoading=!1,this.error="",this.errorDescription="",this.noDataHeaderMessage="Data loading ...",this.noDataBodyMessage="There is no data to display.",this.responsive=!0,this.clearText="Clear selection",this.selection=null,this._dataJustUpdated=!1,this.selectionEmpty=!0,this._resizeRender=this._resizeRender.bind(this)}_onDataChanged(t){this.binsScale=W(t),this._dataJustUpdated=!0}_onColorChanged(t){this._color=this._toColor(t||f,L)}_onSelectedColorChanged(t){this._selectedColor=this._toColor(t||_,b)}defaultFormatter(t){return`${e(t.value)}`}async getSelection(){return this.selection}setSelection(t){this._setSelection(t),this._dataJustUpdated||this.selectionChanged.emit(this.selection)}clearSelection(){this.setSelection(null)}componentDidLoad(){this._color=this._toColor(this.color,L),this._selectedColor=this._toColor(this.selectedColor,b),this._hasDataToDisplay()&&(this.binsScale=W(this.data),requestAnimationFrame(()=>{this._renderGraph()}))}componentDidUpdate(){this._renderGraph()}componentWillLoad(){addEventListener("resize",this._resizeRender)}componentDidUnload(){removeEventListener("resize",this._resizeRender)}render(){return[this._renderHeader(),this._renderContent()]}_resizeRender(){requestAnimationFrame(()=>{this._renderGraph()})}_renderContent(){const e={"as-histogram-widget__wrapper":!0,"as-histogram-widget__wrapper--disabled":this.disableInteractivity},s={figure:!0,"figure--has-x-label":this.xLabel,"figure--has-y-label":this.yLabel};return i(this.isLoading,this.error,this._isEmpty(),this.heading,this.errorDescription,this.noDataBodyMessage,[t("div",{class:e},t("svg",{class:s,ref:t=>this.container=r(t)}),this._renderLabels(),this._renderTooltip()),this.showClear&&!this.disableInteractivity?this._renderClearBtn():""])}_renderGraph(){if(!this.container||!this.container.node())return;const t=this.container.node().getBoundingClientRect(),e=void 0===this.prevWidth||void 0===this.prevHeight;this.prevWidth=this.width,this.prevHeight=this.height,this.width=t.width,this.height=t.height;const s=!e&&(this.prevWidth!==this.width||this.height!==this.prevHeight);0!==this.height&&0!==this.width&&(this._renderYAxis(),this._renderXAxis(),this.barsContainer=J.renderPlot(this.container),this.disableInteractivity||(this.brush=V.addBrush(this.width,this.height,this._onBrush.bind(this),this._onBrushEnd.bind(this),tt,et,st+(this.yLabel?at:0),it),this.brushArea=V.addBrushArea(this.brush,this.container),this.customHandles=V.addCustomHandles(this.brushArea,this.height,tt,et,it)),Q.addTooltip(this.container,this.barsContainer,this,this._color,this._selectedColor,this.tooltipFormatter,this._setTooltip.bind(this)),J.renderBars(this.data,this.yScale,this.container,this.barsContainer,this._color,st+(this.yLabel?at:0),it,s),this._updateSelection(),this.drawParametersChanged.emit({binsScale:this.binsScale,container:this.container,handleWidth:tt,height:this.height,padding:[st+(this.yLabel?at:0),it],width:this.width,xScale:this.xScale}),this._dataJustUpdated=!1)}_setTooltip(t,e){this.tooltip=t,null!==t?this._showTooltip(e):this._hideTooltip()}_updateSelection(){null===this.selection||this.disableInteractivity||(this._selectionInData(this.selection)?this._setSelection(this.selection):this.clearSelection())}_adjustSelection(t){return null===t?null:[this._adjustSelectionFor(t[0],"start"),this._adjustSelectionFor(t[1],"end")]}_adjustSelectionFor(t,e){if(t<=this.data[0].start)return this.data[0][e];if(t>=this.data[this.data.length-1].end)return this.data[this.data.length-1][e];for(const e of this.data){const s=e.start+Math.floor((e.end-e.start)/2);if(t>=e.start&&t<=s)return e.start;if(t>s&&t<e.end)return e.end}}_hideCustomHandles(){this.customHandles.style("opacity",0),this.brushArea.selectAll(".bottomline").style("opacity",0)}_onBrush(){if(this.disableInteractivity)return;const t=a;if(null===t.selection)return void this._hideCustomHandles();if(!t.sourceEvent||"brush"===t.sourceEvent.type)return;const e=t.selection.map(t=>this.xScale.invert(t)).map(t=>this.binsScale.invert(t));this._setSelection(e)}_onBrushEnd(){this.disableInteractivity||this._dataJustUpdated||this.selectionChanged.emit(this.selection)}_setSelection(t){if(this.disableInteractivity)return;const e=this._adjustSelection(t);if(null!==e&&e[0]===e[1])return;const s=null!==this.selection&&null!==e&&this.selection.every((t,s)=>e[s]===t);this.selection=e,this._updateHandles(e),s||(this._hideTooltip(),this.selectionInput.emit(this.selection)),this.selectionEmpty=null===this.selection}_selectionInData(t){return t.map(t=>this.data.some(e=>t>=e.start&&t<=e.end)).some(t=>t)}_updateHandles(t){if(!this.xScale)return;if(null===t)return this.barsContainer.selectAll("rect").style("fill",(t,e)=>this.data[e].color||this._color),void this.brushArea.call(this.brush.move,null);const e=this.height-it,s=t.map(this.binsScale).map(this.xScale);this.brushArea.call(this.brush.move,s),this.customHandles.style("opacity",1).attr("transform",(t,i)=>`translate(${s[i]-tt/2-1},${e-et/2})`),this.brushArea.selectAll(".bottomline").style("opacity",1).attr("x1",s[0]).attr("x2",s[1]),this.barsContainer.selectAll(".bar").style("fill",(e,s)=>{const i=this.data[s];return t[0]<=i.start&&i.end<=t[1]?this._selectedColor:i.color||this._color})}_renderYAxis(){const t=X.getYDomain(this.data),e=J.renderYAxis(this.container,t,st+(this.yLabel?at:0),it);this.yScale=e.scale()}_renderXAxis(){const t=X.getXDomain(this.data),e=J.renderXAxis(this.container,t,this.data.length,st+(this.yLabel?at:0),it,this.axisFormatter);this.xScale=e.scale()}_getTooltipPosition(t,e){let s=t,i=e;const a=window.innerHeight+window.pageYOffset,r=window.innerWidth+window.pageXOffset,n=this.tooltipElement.getBoundingClientRect();return r<t+n.width&&(s=t-n.width),a<e+n.height&&(i=e-n.height-25),[s,i]}_showTooltip(t){if(!this.tooltipElement)return;const[e,s]=this._getTooltipPosition(t.clientX,t.clientY);r(this.tooltipElement).style("display","inline").style("left",`${e}px`).style("top",`${s}px`).text(this.tooltip)}_hideTooltip(){r(this.tooltipElement).style("display","none")}_renderHeader(){if(this.showHeader)return t("as-widget-header",{header:this.heading,subheader:this.description,"is-loading":this.isLoading,"is-empty":this._isEmpty(),error:this.error,"no-data-message":this.noDataHeaderMessage})}_renderTooltip(){if(null!==this.tooltip)return t("span",{ref:t=>this.tooltipElement=t,role:"tooltip",class:"as-tooltip as-tooltip--top"})}_renderClearBtn(){return t("div",null,t("button",{class:"as-btn as-btn--primary as-btn--s as-histogram-widget__clear",onClick:()=>this._setSelection(null),disabled:this.selectionEmpty},this.clearText))}_renderLabels(){return[this.yLabel?t("div",{class:"y-label"},this.yLabel):"",this.xLabel?t("div",{class:"x-label"},this.xLabel):""]}_toColor(t,e){if(t.startsWith("var(")){const s=t.match(/var\(([^,\)]+)(,.+)?\)/);if(null===s)return e;const i=s[1],a=(s[2]||"").replace(",","").trim(),r=getComputedStyle(this.el).getPropertyValue(i).toLowerCase().trim();return 0===r.length?0===a.length?e:a:r}return t}_isEmpty(){return!this.data||!this.data.length}_hasDataToDisplay(){return!(this.isLoading||this._isEmpty()||this.error)}static get is(){return"as-histogram-widget"}static get properties(){return{axisFormatter:{type:"Any",attr:"axis-formatter"},clearSelection:{method:!0},clearText:{type:String,attr:"clear-text"},color:{type:String,attr:"color",watchCallbacks:["_onColorChanged"]},colorRange:{type:"Any",attr:"color-range"},data:{type:"Any",attr:"data",watchCallbacks:["_onDataChanged"]},description:{type:String,attr:"description"},disableInteractivity:{type:Boolean,attr:"disable-interactivity"},el:{elementRef:!0},error:{type:String,attr:"error"},errorDescription:{type:String,attr:"error-description"},getSelection:{method:!0},heading:{type:String,attr:"heading"},isLoading:{type:Boolean,attr:"is-loading"},noDataBodyMessage:{type:String,attr:"no-data-body-message"},noDataHeaderMessage:{type:String,attr:"no-data-header-message"},responsive:{type:Boolean,attr:"responsive"},selectedColor:{type:String,attr:"selected-color",watchCallbacks:["_onSelectedColorChanged"]},selectionEmpty:{state:!0},setSelection:{method:!0},showClear:{type:Boolean,attr:"show-clear"},showHeader:{type:Boolean,attr:"show-header"},tooltipFormatter:{type:"Any",attr:"tooltip-formatter"},xLabel:{type:String,attr:"x-label"},yLabel:{type:String,attr:"y-label"}}}static get events(){return[{name:"selectionChanged",method:"selectionChanged",bubbles:!0,cancelable:!0,composed:!0},{name:"selectionInput",method:"selectionInput",bubbles:!0,cancelable:!0,composed:!0},{name:"drawParametersChanged",method:"drawParametersChanged",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return".as-tooltip{display:-ms-inline-flexbox;display:inline-flex;position:relative;padding:4px 8px;border-radius:4px;background:var(--as--color--type-01);color:var(--as--color--type-04);font:var(--as--font--body)}.as-tooltip:after{content:\"\";position:absolute;border-width:5px;border-style:solid;border-radius:2px;border-color:var(--as--color--type-01)}.as-tooltip--top:after{top:100%;left:50%;-webkit-transform:translateY(-6px) translateX(-5px) rotate(45deg);transform:translateY(-6px) translateX(-5px) rotate(45deg)}.as-tooltip--bot:after{bottom:100%;left:50%;-webkit-transform:translateY(6px) translateX(-5px) rotate(45deg);transform:translateY(6px) translateX(-5px) rotate(45deg)}.as-tooltip--right:after{top:50%;left:0;-webkit-transform:translateY(-5px) translateX(-4px) rotate(45deg);transform:translateY(-5px) translateX(-4px) rotate(45deg)}.as-tooltip--left:after{top:50%;right:0;-webkit-transform:translateY(-4px) translateX(4px) rotate(45deg);transform:translateY(-4px) translateX(4px) rotate(45deg)}as-histogram-widget{--as-histogram-widget--background-color:var(--as--color--ui-01);display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:100%;min-width:228px;height:100%;max-height:100%;overflow:auto;background:var(--as-histogram-widget--background-color,#fff)}as-histogram-widget .as-histogram-widget__wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;min-height:0}as-histogram-widget .as-histogram-widget__clear{margin-top:8px}as-histogram-widget .figure{-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex:1;flex:1;width:100%;min-height:0;padding:18px 8px 17px 30px;overflow:visible}as-histogram-widget .figure--has-x-label{margin-bottom:25px}as-histogram-widget .figure--has-y-label{padding-left:55px}as-histogram-widget .figure text{fill:var(--as--color--type-01)}as-histogram-widget .figure .brush .selection{stroke:none;fill:none}as-histogram-widget .figure .bar{opacity:.7;cursor:pointer}as-histogram-widget .figure .y-axis{--widget-axis-line-color:var(--as--color--type-02,#747474)}as-histogram-widget .figure .y-axis .tick text{width:30px;fill:var(--widget-axis-text-color,#2c2c2c);white-space:pre}as-histogram-widget .figure .y-axis .tick line{stroke:var(--widget-axis-line-color,rgba(46,60,67,.16));opacity:.1}as-histogram-widget .figure .y-axis .domain{display:none}as-histogram-widget .figure .plot rect{cursor:pointer}as-histogram-widget .figure .x-axis .domain,as-histogram-widget .figure .x-axis .tick line{display:none}as-histogram-widget .figure .handle--wrapper{opacity:0}as-histogram-widget .figure .handle--custom{stroke-linecap:round;stroke:#1785fb;fill:#fff;cursor:ew-resize;pointer-events:none}as-histogram-widget .figure .handle--grab{-webkit-transform:translateY(5px);transform:translateY(5px)}as-histogram-widget .figure .grab-line{stroke:#ccc}as-histogram-widget .figure .bottomline{stroke:var(--as--color--primary,#1785fb)}as-histogram-widget .as-histogram-widget__wrapper--disabled svg .bar{cursor:inherit}as-histogram-widget .x-label,as-histogram-widget .y-label{color:var(--as--color--type-01);font:var(--as--font--caption);text-align:center}as-histogram-widget .x-label{position:absolute;bottom:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}as-histogram-widget .y-label{position:absolute;top:50%;left:0;margin-left:4px;-webkit-transform:rotate(-90deg) translate(-50%);transform:rotate(-90deg) translate(-50%);-webkit-transform-origin:0 0;transform-origin:0 0}as-histogram-widget [role=tooltip]{display:none;position:fixed;-webkit-transform:translate(-50%,-120%);transform:translate(-50%,-120%);pointer-events:none}"}}var nt={ALERT_FILL:"M15.2005128,16 L0.800287177,16 C0.522682827,16 0.265878803,15.8556807 0.119476508,15.6199592 C-0.0269257857,15.3826341 -0.0389259738,15.088383 0.0842759568,14.8390314 L7.28438879,0.40710071 C7.55559304,-0.135700237 8.44440696,-0.135700237 8.71561121,0.40710071 L15.915724,14.8390314 C16.038926,15.088383 16.0269258,15.3818323 15.8805235,15.6199592 C15.7349212,15.8564825 15.4781172,16 15.2005128,16 Z M7,6 L7,11 L9,11 L9,6 L7,6 Z M8.70710729,12.2928927 C8.31657968,11.9023691 7.68341632,11.9023691 7.29289271,12.2928927 C6.9023691,12.6834203 6.9023691,13.3165837 7.29289271,13.7071073 C7.68342032,14.0976309 8.31658368,14.0976309 8.70710729,13.7071073 C9.0976309,13.3165797 9.0976309,12.6834163 8.70710729,12.2928927 Z",ALERT:"M15.2005128,16 L0.800287177,16 C0.522682827,16 0.265878803,15.8556807 0.119476508,15.6199592 C-0.0269257857,15.3826341 -0.0389259738,15.088383 0.0842759568,14.8390314 L7.28438879,0.40710071 C7.55559304,-0.135700237 8.44440696,-0.135700237 8.71561121,0.40710071 L15.915724,14.8390314 C16.038926,15.088383 16.0269258,15.3818323 15.8805235,15.6199592 C15.7349212,15.8564825 15.4781172,16 15.2005128,16 Z M2.09470746,14.3964522 L13.9060926,14.3964522 L8.00040001,2.5598637 L2.09470746,14.3964522 Z M7,6 L9,6 L9,11 L7,11 L7,6 Z M8.70710729,12.2928927 C9.0976309,12.6834163 9.0976309,13.3165797 8.70710729,13.7071073 C8.31658368,14.0976309 7.68342032,14.0976309 7.29289271,13.7071073 C6.9023691,13.3165837 6.9023691,12.6834203 7.29289271,12.2928927 C7.68341632,11.9023691 8.31657968,11.9023691 8.70710729,12.2928927 Z",ARROW_DOWN:"M 8.8620002,1.5286665 V 11.919334 l 1.5286668,-1.528667 0.942667,0.942667 -3.1380005,3.138 -3.138,-3.138 0.942667,-0.942667 1.5286663,1.528667 V 1.5286665 Z",ARROW_LEFT:"M4.276,7.3333333 5.8046667,5.8046667 4.862,4.862 1.724,8 4.862,11.138 5.8046667,10.195333 4.276,8.6666667 H 14.666667 V 7.3333333 Z",ARROW_RIGHT:"M12.114667,7.3333333 10.586,5.8046667 11.528667,4.862 14.666667,8 11.528667,11.138 10.586,10.195333 12.114667,8.6666667 H 1.724 V 7.3333333 Z",ARROW_UP:"M 8.8620002,14.471334 V 4.0806665 l 1.5286668,1.5286667 0.942667,-0.9426667 -3.1380005,-3.138 -3.138,3.138 0.942667,0.9426667 1.5286663,-1.5286667 V 14.471334 Z",CHEVRON_DOWN:"M1.3339844,4 0.98046875,4.3535156 0,5.3339844 8,13.333984 16,5.3339844 14.666016,4 8,10.666016 Z",CHEVRON_LEFT:"M 12.666992,14.666016 12.313476,15.019531 11.333008,16 l -8,-8 8,-8 1.333984,1.333984 L 6.000976,8 Z",CHEVRON_RIGHT:"M 3.333008,14.666016 3.686524,15.019531 4.666992,16 l 8,-8 -8,-8 L 3.333008,1.333984 9.999024,8 Z",CHEVRON_UP:"M1.3339844,13.333984 0.98046875,12.980468 0,12 8,4 16,12 14.666016,13.333984 8,6.667968 Z",CLOSE:"M 14,2.9743406 13.024979,2 8.0003445,7.0253649 2.9750215,2 2,2.9743406 7.025323,7.9997055 2,13.02507 2.9750215,13.999411 8.0003445,8.974046 13.024979,13.999411 14,13.02507 8.974677,7.9997055 Z",FACEBOOK:"M12,7 L9,7 C9.15401766,7.25882085 8.99420316,7.42198953 9,8 L9,16 L6,16 L6,8 C6.14037278,7.42198953 5.98055828,7.25882085 6,7 L4,7 L4,5 L6,5 C5.98055828,5.07352606 6.14037278,4.91035739 6,5 L6,3 C6.14037278,1.97186433 6.5270668,-1.45661261e-13 9,-1.45661261e-13 L12,0 L12,2 L10,2 C9.57495764,2.15251537 8.99420316,2.45918507 9,3 L9,5 C8.99420316,4.91035739 9.15401766,5.07352606 9,5 L12,5 L12,7 Z",HAMBURGUER:"M3.33333333,10.6666667 L12.6666667,10.6666667 L12.6666667,12.6666667 L3.33333333,12.6666667 L3.33333333,10.6666667 Z M3.33333333,7.33333333 L12.6666667,7.33333333 L12.6666667,9.33333333 L3.33333333,9.33333333 L3.33333333,7.33333333 Z M3.33333333,4 L12.6666667,4 L12.6666667,6 L3.33333333,6 L3.33333333,4 Z",HAMBURGER:"M3.33333333,10.6666667 L12.6666667,10.6666667 L12.6666667,12.6666667 L3.33333333,12.6666667 L3.33333333,10.6666667 Z M3.33333333,7.33333333 L12.6666667,7.33333333 L12.6666667,9.33333333 L3.33333333,9.33333333 L3.33333333,7.33333333 Z M3.33333333,4 L12.6666667,4 L12.6666667,6 L3.33333333,6 L3.33333333,4 Z",HOME:"M12.1997272,15 L3.80008915,15 C3.4137058,15 3.10011931,14.6860861 3.10011931,14.2992993 L3.10011931,9.39439439 L2.40014947,9.39439439 C1.83247394,9.39439439 1.32499581,9.05525526 1.10730519,8.52972973 C0.88961457,8.0035035 1.00930941,7.4044044 1.41039213,7.0022022 L7.01085078,1.40990991 C7.27473941,1.14574575 7.62612427,1 7.99990816,1 C8.37369205,1 8.72507691,1.14574575 8.98966551,1.41061061 L14.5887242,7.0015015 C14.9905069,7.4037037 15.1102017,8.0035035 14.8932111,8.52832833 C14.6769204,9.05455455 14.1687423,9.39439439 13.5996668,9.39439439 L12.899697,9.39439439 L12.899697,14.2992993 C12.899697,14.6853854 12.5861105,15 12.1997272,15 Z M4.50005898,13.5985986 L11.4997573,13.5985986 L11.4997573,8.69369369 C11.4997573,8.30690691 11.8133438,7.99299299 12.1997272,7.99299299 L13.5996668,7.99299299 L8.00060813,2.4014014 L2.3994495,7.99299299 L3.80008915,7.99299299 C4.18647249,7.99299299 4.50005898,8.30690691 4.50005898,8.69369369 L4.50005898,13.5985986 Z",INFO:"M8,15 C4.1402,15 1,11.8605 1,8 C1,4.1409 4.1402,1 8,1 C11.8598,1 15,4.1402 15,8 C15,11.8605 11.8598,15 8,15 Z M8,2.4 C4.9123,2.4 2.4,4.9123 2.4,8 C2.4,11.0877 4.9123,13.6 8,13.6 C11.0877,13.6 13.6,11.0877 13.6,8 C13.6,4.9123 11.0877,2.4 8,2.4 Z M8.7,10.1 L10.1,10.1 L10.1,11.5 L5.9,11.5 L5.9,10.1 L7.3,10.1 L7.3,8 L6.6,8 L6.6,6.6 L8,6.6 C8.3871,6.6 8.7,6.9136 8.7,7.3 L8.7,10.1 Z M8.61873,4.581284 C8.9604385,4.9229925 8.9604385,5.477011 8.61873,5.818723 C8.2770215,6.1604315 7.723003,6.1604315 7.381291,5.818723 C7.0395825,5.4770145 7.0395825,4.922996 7.381291,4.581284 C7.7229995,4.2395755 8.277018,4.2395755 8.61873,4.581284 Z",LINKEDIN:"M15,15 L12,15 L12,10 C11.9901246,9.17953506 11.519306,8.35524227 10,8 C9.69208185,8.35524227 9.25169039,8.91149286 9,9 C8.96983986,9.63999627 8.98185053,9.90803847 9,10 L9,15 L6,15 C6,15 6.03843416,6.82849407 6,6 L9,6 L9,7 C9.15800712,6.87302773 10.1108541,6 12,6 C13.5178826,6 15,7.28223322 15,10 L15,15 L15,15 Z M2,5 L2,5 C1.58001988,5 1,4.3390383 1,4 C1,2.64710676 1.597167,2 3,2 C3.42147117,2 3.98210736,2.64547677 4,3 C4,4.33659332 3.42147117,5 2,5 L2,5 L2,5 Z M1,6 L4,6 L4,15 L1,15 L1,6 L1,6 Z",MAGNIFY:"M14.5420063,13.4106724 L11.6220048,10.4900042 C12.2753385,9.60533714 12.666672,8.51600326 12.666672,7.333336 C12.666672,4.39266786 10.2740041,2 7.333336,2 C4.39266786,2 2,4.39266786 2,7.333336 C2,10.2740041 4.39266786,12.666672 7.333336,12.666672 C8.49133658,12.666672 9.56133711,12.2913385 10.4366709,11.6620048 L13.3640057,14.5893396 L14.5420063,13.4106724 Z M3.333334,7.333336 C3.333334,5.1273349 5.1273349,3.333334 7.333336,3.333334 C9.5393371,3.333334 11.333338,5.1273349 11.333338,7.333336 C11.333338,9.5393371 9.5393371,11.333338 7.333336,11.333338 C5.1273349,11.333338 3.333334,9.5393371 3.333334,7.333336 Z",MARKER:"M8,8 C6.89733333,8 6,7.10266667 6,6 C6,4.89733333 6.89733333,4 8,4 C9.10266667,4 10,4.89733333 10,6 C10,7.10266667 9.10266667,8 8,8 Z M8,5.33333333 C7.63266667,5.33333333 7.33333333,5.63266667 7.33333333,6 C7.33333333,6.368 7.63266667,6.66666667 8,6.66666667 C8.36733333,6.66666667 8.66666667,6.368 8.66666667,6 C8.66666667,5.63266667 8.36733333,5.33333333 8,5.33333333 Z M8,15 C6.315,12.8681957 3,8.40813858 3,5.741859 C3,3.12706247 5.24285714,1 8,1 C10.7571429,1 13,3.12706247 13,5.741859 C13,8.40813858 9.685,12.8688731 8,15 Z M8,2.35481686 C6.03071429,2.35481686 4.42857143,3.87424396 4.42857143,5.741859 C4.42857143,7.49702424 6.64785714,10.8786471 8,12.7130691 C9.35142857,10.8779697 11.5714286,7.49566942 11.5714286,5.741859 C11.5714286,3.87424396 9.96928571,2.35481686 8,2.35481686 Z",MINUS:"M 2,7 H 14 V 9 H 2 Z",PAUSE:"M8,15 C4.1402,15 1,11.8605 1,8 C1,4.1409 4.1402,1 8,1 C11.8598,1 15,4.1402 15,8 C15,11.8605 11.8598,15 8,15 Z M8,2.4 C4.9123,2.4 2.4,4.9123 2.4,8 C2.4,11.0877 4.9123,13.6 8,13.6 C11.0877,13.6 13.6,11.0877 13.6,8 C13.6,4.9123 11.0877,2.4 8,2.4 Z M6,5.5 L7.333334,5.5 L7.333334,10.5 L6,10.5 L6,5.5 Z M8.666668,5.5 L10.000002,5.5 L10.000002,10.5 L8.666668,10.5 L8.666668,5.5 Z",PENCIL:"M13.8806736,2.11933439 C13.3740067,1.61200081 12.6993397,1.333334 11.9826727,1.333334 C11.2666723,1.333334 10.5920053,1.61200081 10.0853384,2.11933439 L2.47933457,9.72467153 C2.47933457,9.72467153 2.47866791,9.72667153 2.47733457,9.7273382 C2.42333454,9.78200489 2.3313345,9.92600496 2.30333448,10.0346717 L1.35333401,13.8373403 C1.29600065,14.064007 1.36333402,14.3053405 1.52866743,14.4700072 L1.5293341,14.4706739 L1.53000077,14.4713406 C1.69533418,14.636674 1.9353343,14.7040074 2.16266775,14.6473407 L5.96533632,13.6960068 C6.07400304,13.6680068 6.21866978,13.5760068 6.2726698,13.5220068 C6.27333647,13.5213401 6.27533647,13.5200068 6.27533647,13.5200068 L13.8813403,5.91533629 C14.3880072,5.4080027 14.6673407,4.73466903 14.666674,4.01733534 C14.666674,3.30066832 14.3880072,2.62666798 13.8813403,2.11933439 L13.8806736,2.11933439 Z M9.60733814,4.48533558 L11.5160058,6.3940032 L5.8040029,12.1060061 L3.89533528,10.1973384 L9.60733814,4.48533558 Z M2.91666813,13.0840065 L3.31333499,11.5013391 L4.50000225,12.688673 L2.91666813,13.0840065 Z M12.9393398,3.0626682 C13.4486734,3.57266845 13.4486734,4.46200223 12.9393398,4.97200249 L12.4600062,5.45200273 L10.5493386,3.54200177 L11.0300055,3.0626682 C11.5400058,2.55333461 12.4293395,2.55266794 12.9393398,3.0626682 Z",PLAY:"M8,15 C4.1402,15 1,11.8605 1,8 C1,4.1409 4.1402,1 8,1 C11.8598,1 15,4.1402 15,8 C15,11.8605 11.8598,15 8,15 Z M8,2.4 C4.9123,2.4 2.4,4.9123 2.4,8 C2.4,11.0877 4.9123,13.6 8,13.6 C11.0877,13.6 13.6,11.0877 13.6,8 C13.6,4.9123 11.0877,2.4 8,2.4 Z M6.5,10.733336 L6.5,5.4 L10.500002,8.066668 L6.5,10.733336 Z",PLUS:"M7,7 L7,2 L9,2 L9,7 L14,7 L14,9 L9,9 L9,14 L7,14 L7,9 L2,9 L2,7 L7,7 Z",POINTS:"M 7,1 H 9 V 3 H 7 Z M 7,7 H 9 V 9 H 7 Z m 0,6 h 2 v 2 H 7 Z",QUESTION:"M8,15 C4.1402,15 1,11.8605 1,8 C1,4.1409 4.1402,1 8,1 C11.8598,1 15,4.1402 15,8 C15,11.8605 11.8598,15 8,15 Z M8,2.4 C4.9123,2.4 2.4,4.9123 2.4,8 C2.4,11.0877 4.9123,13.6 8,13.6 C11.0877,13.6 13.6,11.0877 13.6,8 C13.6,4.9123 11.0877,2.4 8,2.4 Z M8.666671,10.000005 L7.333337,10.000005 L7.333337,8.000004 L8.000004,8.000004 C8.73600437,8.000004 9.333338,7.4020037 9.333338,6.66667 C9.333338,5.93066963 8.73600437,5.333336 8.000004,5.333336 C7.26400363,5.333336 6.66667,5.93066963 6.66667,6.66667 L5.333336,6.66667 C5.333336,5.19666927 6.53000326,4.000002 8.000004,4.000002 C9.47000473,4.000002 10.666672,5.19666927 10.666672,6.66667 C10.666672,7.90667062 9.81533824,8.95200448 8.666671,9.25000463 L8.666671,10.000005 Z M8.58927096,10.744072 C8.91470779,11.0695089 8.91470779,11.5971458 8.58927096,11.922586 C8.26383413,12.2480228 7.7361972,12.2480228 7.41075704,11.922586 C7.08532021,11.5971491 7.08532021,11.0695122 7.41075704,10.744072 C7.73619387,10.4186352 8.2638308,10.4186352 8.58927096,10.744072 Z",REDO:"M5.05733586,13.1380066 C3.21933494,13.1380066 1.72400086,11.6426725 1.72400086,9.80467157 C1.72400086,7.96667065 3.21933494,6.47133657 5.05733586,6.47133657 L12.1146727,6.47133657 L10.5860053,4.94266914 L11.5286724,4.000002 L14.666674,7.13800357 L11.5286724,10.2760051 L10.5860053,9.333338 L12.1146727,7.80467057 L5.05733586,7.80467057 C3.95466864,7.80467057 3.05733486,8.70200435 3.05733486,9.80467157 C3.05733486,10.9073388 3.95466864,11.8046726 5.05733586,11.8046726 L8.39067086,11.8046726 L8.39067086,13.1380066 L5.05733586,13.1380066 Z",SETTINGS:"M12.666673,5.99933633 C11.7986726,5.99933633 11.0660055,5.44066939 10.7900054,4.66600233 L1.333334,4.66600233 L1.333334,3.33266833 L10.7900054,3.33266833 C11.0660055,2.55800128 11.7986726,1.99933433 12.666673,1.99933433 C13.7693402,1.99933433 14.666674,2.89666812 14.666674,3.99933533 C14.666674,5.10200255 13.7693402,5.99933633 12.666673,5.99933633 Z M12.666673,3.33266833 C12.2993395,3.33266833 12.000006,3.63200182 12.000006,3.99933533 C12.000006,4.36800218 12.2993395,4.66600233 12.666673,4.66600233 C13.0340065,4.66600233 13.33334,4.36800218 13.33334,3.99933533 C13.33334,3.63200182 13.0340065,3.33266833 12.666673,3.33266833 Z M6.000003,5.99933633 C6.86800343,5.99933633 7.60067047,6.55800328 7.87667061,7.33267033 L14.666674,7.33267033 L14.666674,8.66600433 L7.87667061,8.66600433 C7.60067047,9.44067139 6.86733677,9.99933833 6.000003,9.99933833 C5.13266923,9.99933833 4.39933553,9.44067139 4.1233354,8.66600433 L1.333334,8.66600433 L1.333334,7.33267033 L4.1233354,7.33267033 C4.39933553,6.55800328 5.13200257,5.99933633 6.000003,5.99933633 Z M6.000003,8.66600433 C6.36733652,8.66600433 6.66667,8.36800418 6.66667,7.99933733 C6.66667,7.63200382 6.36733652,7.33267033 6.000003,7.33267033 C5.63266948,7.33267033 5.333336,7.63200382 5.333336,7.99933733 C5.333336,8.36800418 5.63266948,8.66600433 6.000003,8.66600433 Z M12.666673,9.99933833 C13.7693402,9.99933833 14.666674,10.8966721 14.666674,11.9993393 C14.666674,13.1020066 13.7693402,13.9993403 12.666673,13.9993403 C11.7993392,13.9993403 11.0660055,13.4406734 10.7900054,12.6660063 L1.333334,12.6660063 L1.333334,11.3326723 L10.7900054,11.3326723 C11.0660055,10.5580053 11.7986726,9.99933833 12.666673,9.99933833 Z M12.666673,12.6660063 C13.0340065,12.6660063 13.33334,12.3680062 13.33334,11.9993393 C13.33334,11.6320058 13.0340065,11.3326723 12.666673,11.3326723 C12.2993395,11.3326723 12.000006,11.6320058 12.000006,11.9993393 C12.000006,12.3680062 12.2993395,12.6660063 12.666673,12.6660063 Z",TICK_CIRCLE_FILL:"M8,15 C4.1402,15 1,11.8598 1,8 C1,4.1402 4.1402,1 8,1 C11.8598,1 15,4.1402 15,8 C15,11.8598 11.8598,15 8,15 Z M7.4113,11.4496 L11.5119,5.7089 L10.0874,4.6918 L7.188,8.7511 L5.8181,7.3819 L4.5812,8.6195 L7.4113,11.4496 Z",TICK_CIRCLE:"M8,15 C4.1402,15 1,11.8598 1,8 C1,4.1402 4.1402,1 8,1 C11.8598,1 15,4.1402 15,8 C15,11.8598 11.8598,15 8,15 Z M8,2.4 C4.9123,2.4 2.4,4.9123 2.4,8 C2.4,11.0877 4.9123,13.6 8,13.6 C11.0877,13.6 13.6,11.0877 13.6,8 C13.6,4.9123 11.0877,2.4 8,2.4 Z M7.4113,11.4496 L4.5812,8.6195 L5.8181,7.3819 L7.188,8.7511 L10.0874,4.6918 L11.5119,5.7089 L7.4113,11.4496 Z",TICK:"M 5.3626012,14 1,9.669206 2.5649039,8.115148 5.2873229,10.81717 13.362475,2 15,3.4784647 Z",TWITTER:"M15.585592,2.24001476 C14.9910018,2.6160691 14.3323823,2.88920145 13.6314057,3.03641675 C13.0700099,2.39858132 12.2702184,2 11.3851092,2 C9.68550422,2 8.30758258,3.46940291 8.30758258,5.28180108 C8.30758258,5.53901826 8.33485131,5.78950661 8.38730386,6.02969691 C5.82963898,5.89283817 3.56205421,4.58627317 2.04422254,2.60073905 C1.77932624,3.0854495 1.62756502,3.64920919 1.62756502,4.25065038 C1.62756502,5.38922846 2.17090969,6.39375636 2.99665313,6.98226647 C2.49215406,6.96523958 2.01766707,6.81761471 1.60271041,6.57180729 C1.60249095,6.58549901 1.60249095,6.59924925 1.60249095,6.613058 C1.60249095,8.20317043 2.66328322,9.5296294 4.07110721,9.83108139 C3.81284977,9.90609331 3.5409854,9.94617379 3.2602875,9.94617379 C3.06199934,9.94617379 2.86919785,9.9256362 2.68133435,9.88731107 C3.07291781,11.1911845 4.20942609,12.1400094 5.55607374,12.1665151 C4.50285306,13.0467058 3.17590256,13.5713797 1.7341161,13.5713797 C1.48573466,13.5713797 1.24075497,13.5558741 1,13.5255651 C2.36190058,14.4567194 3.97953473,15 5.71743662,15 C11.3779217,15 14.4732799,9.99918534 14.4732799,5.66236081 C14.4732799,5.52006049 14.4703172,5.37852083 14.4643915,5.23780032 C15.0656206,4.77509024 15.5874026,4.19705371 16,3.53891474 C15.4480961,3.79993519 14.59375,4 14.2324701,4.05568958 C14.59375,3.5389148 15.3558104,3.00634176 15.585592,2.24001476 Z",UNDO:"m 11.333339,13.138007 c 1.838001,0 3.333335,-1.495334 3.333335,-3.3333354 0,-1.838001 -1.495334,-3.333335 -3.333335,-3.333335 H 4.2760022 L 5.8046696,4.9426691 4.8620025,4.000002 1.7240009,7.1380036 4.8620025,10.276005 5.8046696,9.333338 4.2760022,7.8046706 h 7.0573368 c 1.102667,0 2.000001,0.8973337 2.000001,2.000001 0,1.1026674 -0.897334,2.0000014 -2.000001,2.0000014 H 8.000004 v 1.333334 z"};function ot(t){return"[object Date]"===Object.prototype.toString.call(t)}const lt=4;class ht{constructor(){this.showHeader=!0,this.disableInteractivity=!1,this.data=[],this.color=f,this.selectedColor=_,this.isLoading=!1,this.error="",this.errorDescription="",this.noDataHeaderMessage="Data loading ...",this.noDataBodyMessage="There is no data to display.",this.responsive=!0,this.progress=0,this.playing=!1,this.animated=!1,this.timeFormat="%x - %X",this.clearText="Clear selection",this.axisFormatter=this.axisFormatter.bind(this)}onDataChanged(t,e){(function(t,e){if(t.length!==e.length)return!1;for(let s=0;s<t.length;s++)if(t[s].start!==e[s].start||t[s].end!==e[s].end||t[s].value!==e[s].value||t[s].color!==e[s].color)return!1;return!0})(t,e)||(this._data=function(t){const e=t.every(t=>ot(t.start)&&ot(t.end));return t.map(e?t=>({color:t.color,end:t.end.getTime(),start:t.start.getTime(),value:t.value}):t=>({color:t.color,end:t.end,start:t.start,value:t.value}))}(t))}onProgressChanged(){this._render()}onTimeFormatChanged(t){this._formatter=m(t),this.histogram.forceUpdate()}onTimeFormatLocaleChanged(t){try{g(t),this.timeFormat&&this.onTimeFormatChanged(this.timeFormat)}catch(t){throw new Error("Invalid time format.")}}async componentWillLoad(){this.onDataChanged(this.data,[])}async componentDidLoad(){console.warn("[as-time-series-widget] This is an unreleased component, use at your own risk"),this.timeFormatLocale&&g(this.timeFormatLocale),this._formatter=m(this.timeFormat),this.histogram.addEventListener("selectionInput",t=>{this._selection=t.detail,this._render()}),this.histogram.addEventListener("selectionChanged",t=>{if(t.stopPropagation(),null===t.detail)return void this.selectionChanged.emit(null);const e=t.detail.map(t=>new Date(t));this.selectionChanged.emit(e),this._render()}),this.histogram.addEventListener("drawParametersChanged",t=>{this._renderOptions=t.detail,this._render()}),this._selection=await this.histogram.getSelection()}render(){return[this._renderButton(),t("as-histogram-widget",{ref:t=>{this.histogram=t},heading:this.heading,description:this.description,showHeader:this.showHeader,showClear:this.showClear,disableInteractivity:this.disableInteractivity,data:this._data,color:this.color,selectedColor:this.selectedColor,colorRange:this.colorRange,axisFormatter:this.axisFormatter,tooltipFormatter:this.tooltipFormatter,xLabel:this.xLabel,yLabel:this.yLabel,isLoading:this.isLoading,error:this.error,errorDescription:this.errorDescription,noDataHeaderMessage:this.noDataHeaderMessage,noDataBodyMessage:this.noDataBodyMessage,responsive:this.responsive,clearText:this.clearText})]}axisFormatter(t){return this._formatter(new Date(t))}_renderButton(){return this.animated&&this.data.length?t("div",{class:"play-button",onClick:this._playPauseClick.bind(this)},function(e,s="#000",i){const a=nt[e];return t("svg",Object.assign({width:"16px",height:"16px",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},{width:"32px",height:"32px"}),t("path",{fill:s,d:a}))}(this.playing?"PAUSE":"PLAY","var(--as--color--primary)")):null}_playPauseClick(){this.playing?this.pause.emit():this.play.emit()}_render(){if(!this._renderOptions)return;const{container:t,height:e,width:s,padding:i,xScale:r,binsScale:n,handleWidth:o}=this._renderOptions;let l=t.select(".as-time-series--g");if(!this.animated)return void(l.empty()||l.remove());const{left:h}=t.node().getBoundingClientRect(),[d,u]=i,p=c().domain([0,100]);let m=0;if(this._selection){const t=this._selection.map(t=>r(n(t)));p.range([t[0]+(m=o/2)+lt/2,t[1]-m-lt/2])}else p.range([0,s-d]);const g=p(this.progress);t.on("click",()=>{const t=Math.round(p.invert(a.clientX-h-d+8));t>100||t<0||this.seek.emit(t)}),l.empty()&&((l=t.append("g").attr("class","as-time-series--g")).append("line").attr("class","as-time-series--preview").attr("stroke-width",4).attr("stroke","gray").attr("opacity","0"),l.append("line").attr("class","as-time-series--line").attr("stroke-width",4),l.append("circle").attr("class","as-time-series--scrubber").attr("r",lt).attr("stroke-width",0),l.append("line").attr("class","as-time-series--track").attr("stroke-width",16).attr("stroke","black").attr("opacity","0").on("mouseleave",()=>{this._lastMousePosition=-1,l.select(".as-time-series--preview").attr("opacity","0")})),l.select(".as-time-series--line").attr("x1",p(0)).attr("x2",g).attr("y1",e-u).attr("y2",e-u).attr("opacity",null===this._selection?1:0),l.select(".as-time-series--track").attr("y1",e-u).attr("y2",e-u).attr("x1",p(0)+m).attr("x2",p(100)-m).on("mousemove",()=>{this._lastMousePosition=a.clientX-h-d+8,this._lastMousePosition>p(this.progress)&&l.select(".as-time-series--preview").attr("x2",this._lastMousePosition).attr("opacity","1")}),l.select(".as-time-series--preview").attr("x1",g-lt/2).attr("y1",e-u).attr("y2",e-u).attr("opacity",()=>this._lastMousePosition>g?"1":"0"),l.select(".as-time-series--scrubber").attr("transform",`translate(${g-lt/2},${e-u})`)}static get is(){return"as-time-series-widget"}static get properties(){return{animated:{type:Boolean,attr:"animated",reflectToAttr:!0},clearText:{type:String,attr:"clear-text"},color:{type:String,attr:"color"},colorRange:{type:"Any",attr:"color-range"},data:{type:"Any",attr:"data",watchCallbacks:["onDataChanged"]},description:{type:String,attr:"description"},disableInteractivity:{type:Boolean,attr:"disable-interactivity"},error:{type:String,attr:"error"},errorDescription:{type:String,attr:"error-description"},heading:{type:String,attr:"heading"},isLoading:{type:Boolean,attr:"is-loading"},noDataBodyMessage:{type:String,attr:"no-data-body-message"},noDataHeaderMessage:{type:String,attr:"no-data-header-message"},playing:{type:Boolean,attr:"playing"},progress:{type:Number,attr:"progress",watchCallbacks:["onProgressChanged"]},responsive:{type:Boolean,attr:"responsive"},selectedColor:{type:String,attr:"selected-color"},showClear:{type:Boolean,attr:"show-clear"},showHeader:{type:Boolean,attr:"show-header"},timeFormat:{type:String,attr:"time-format",watchCallbacks:["onTimeFormatChanged"]},timeFormatLocale:{type:"Any",attr:"time-format-locale",watchCallbacks:["onTimeFormatLocaleChanged"]},tooltipFormatter:{type:"Any",attr:"tooltip-formatter"},xLabel:{type:String,attr:"x-label"},yLabel:{type:String,attr:"y-label"}}}static get events(){return[{name:"play",method:"play",bubbles:!0,cancelable:!0,composed:!0},{name:"pause",method:"pause",bubbles:!0,cancelable:!0,composed:!0},{name:"selectionChanged",method:"selectionChanged",bubbles:!0,cancelable:!0,composed:!0},{name:"seek",method:"seek",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return"as-time-series-widget{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:100%}as-time-series-widget .play-button{margin-right:16px;cursor:pointer}as-time-series-widget .as-time-series--line,as-time-series-widget .as-time-series--scrubber{stroke:var(--as--color--primary,#1785fb);fill:var(--as--color--primary,#1785fb)}as-time-series-widget .as-time-series--line,as-time-series-widget .as-time-series--scrubber,as-time-series-widget .as-time-series--track{cursor:pointer}"}}export{rt as AsHistogramWidget,ht as AsTimeSeriesWidget};