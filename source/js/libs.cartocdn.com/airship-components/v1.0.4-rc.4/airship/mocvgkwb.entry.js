const e=window.airship.h;import{a as t}from"./chunk-b0e1ce66.js";class s{constructor({activeClass:e,element:t,name:s,order:a,type:n}){this._active=!1,this._activeClass=e,this._element=t,this._name=s,this._order=a,this._type=n}get active(){return this._active}get activeClass(){return this._activeClass}get element(){return this._element}get name(){return this._name}get order(){return this._order}get type(){return this._type}enable(){this.element.classList.add(this._activeClass),this._active=!0}disable(){this.element.classList.remove(this._activeClass),this._active=!1}}function a(e,t){return new s({activeClass:"as-sidebar--visible",element:e,name:e.getAttribute("data-name")||`Sidebar ${t}`,order:e.getAttribute("data-tab-order")||0,type:"sidebar"})}function n(e,t){return new s({activeClass:"as-map-panels--visible",element:e,name:e.getAttribute("data-name")||`Panel ${t}`,order:e.getAttribute("data-tab-order")||0,type:"panels"})}var i={getFooter:function(e){const t=e.querySelector(".as-map-footer");return t?new s({activeClass:"as-map-footer--visible",element:t,name:t.getAttribute("data-name")||"Bottom Bar",order:t.getAttribute("data-tab-order")||0,type:"mapFooter"}):null},getMap:function(e){const t=e.querySelector(".as-map-area");return t?new s({activeClass:"as-map-area--visible",element:t,name:t.getAttribute("data-name")||"Map",order:t.getAttribute("data-tab-order")||0,type:"map"}):null},getPanels:function(e){return Array.from(e.querySelectorAll(".as-map-panels")).map(n)},getSidebars:function(e){return Array.from(e.querySelectorAll(".as-sidebar")).map(a)}};class r{constructor(){this.sections=[]}componentWillLoad(){this.sections=this.getContentSections()}componentDidLoad(){this.ready.emit()}async getSections(){return this.sections}async setVisible(e){const t=this.sections.find(t=>t.name===e);t&&this.setActive(t)}render(){return[this._renderTabs(),this._renderContent()]}_renderTabs(){const t=this.sections.map((t,s)=>{if(t.element)return e("button",{onClick:()=>this.setActive(t),role:"tab",class:{"as-tabs__item":!0,"as-tabs__item--active":t.active}},t.name||s)});return e("div",{role:"tablist",class:"as-toolbar-tabs as-tabs as-tabs--xl"},t)}_renderContent(){return e("section",{class:"as-content"},e("slot",null))}setActive(e){e.active||(this.disableActiveSection(),e.enable(),t(e.element),this.activeSection=e,this.sections=[...this.sections],this.sectionChange.emit(e))}disableActiveSection(){this.activeSection&&this.activeSection.disable()}getContentSections(){const e=[i.getMap(this.element),...i.getSidebars(this.element),...i.getPanels(this.element),i.getFooter(this.element)].filter(e=>null!==e);return e.length&&(e.sort((e,t)=>e.order-t.order),this.setActive(e[0])),e}static get is(){return"as-responsive-content"}static get properties(){return{element:{elementRef:!0},getSections:{method:!0},sections:{state:!0},setVisible:{method:!0}}}static get events(){return[{name:"ready",method:"ready",bubbles:!0,cancelable:!0,composed:!0},{name:"sectionChange",method:"sectionChange",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return"as-responsive-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;min-height:0}"}}export{r as AsResponsiveContent};